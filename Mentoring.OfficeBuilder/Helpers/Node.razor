@using Mentoring.OfficeBuilder.Models;
@inject HttpClient Http

@if (Children != null)
{

    <svg width="1000" height="1000">
        @foreach (var child in Children)
        {
            <SvgRender Model=child />
        }
    </svg>
}



@code {
    [Parameter]
        public OfficeItemModel Model { get; set; }
        List<OfficeItemModel> Children;

        private MarkupString GetMarkup(OfficeItemModel model)
        {
            return (MarkupString)model.Svg;
        }

        protected override async Task OnInitializedAsync()
        {
            Children = await Http.GetJsonAsync<List<OfficeItemModel>>("https://localhost:44327/" + "api/Svg/Get/" + Model.Id);
        }
}
